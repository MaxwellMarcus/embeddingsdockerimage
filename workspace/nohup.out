time="2024-07-13T15:07:33Z" level=warning msg="/home/ec2-user/embeddingsdockerimage/docker-compose.yml: `version` is obsolete"
#0 building with "default" instance using docker driver

#1 [web internal] load .dockerignore
#1 transferring context: 2B done
#1 DONE 0.0s

#2 [web internal] load build definition from Dockerfile
#2 transferring dockerfile: 712B 0.0s done
#2 DONE 0.0s

#3 [web internal] load metadata for docker.io/library/python:3.10.0-buster
#3 DONE 0.3s

#4 [web internal] load build context
#4 transferring context: 26.76kB 0.0s done
#4 DONE 0.0s

#5 [web 1/8] FROM docker.io/library/python:3.10.0-buster@sha256:bb76a025d1ba1820c33197637d21484e439347cb18c59d1858f06425d0a3b403
#5 CACHED

#6 [web 2/8] COPY ./workspace/CT-CLIP/ /CT-CLIP
#6 DONE 160.9s

#7 [web 3/8] WORKDIR /CT-CLIP
#7 DONE 0.1s

#8 [web 4/8] RUN apt-get update -y && apt-get install libgl1 -y
#8 0.743 Get:1 http://security.debian.org/debian-security buster/updates InRelease [34.8 kB]
#8 0.743 Get:2 http://deb.debian.org/debian buster InRelease [122 kB]
#8 0.777 Get:3 http://deb.debian.org/debian buster-updates InRelease [56.6 kB]
#8 1.055 Get:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [610 kB]
#8 1.180 Get:5 http://deb.debian.org/debian buster/main amd64 Packages [7909 kB]
#8 1.301 Get:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [8788 B]
#8 2.382 Fetched 8741 kB in 2s (5225 kB/s)
#8 2.382 Reading package lists...
#8 3.040 Reading package lists...
#8 3.690 Building dependency tree...
#8 3.817 Reading state information...
#8 3.923 The following additional packages will be installed:
#8 3.923   libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm-nouveau2 libdrm-radeon1
#8 3.923   libdrm2 libgl1-mesa-dri libglapi-mesa libglvnd0 libglx-mesa0 libglx0
#8 3.924   libllvm7 libpciaccess0 libsensors-config libsensors5 libx11-xcb1
#8 3.924   libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-sync1
#8 3.924   libxdamage1 libxfixes3 libxshmfence1 libxxf86vm1
#8 3.924 Suggested packages:
#8 3.924   pciutils lm-sensors
#8 4.040 The following NEW packages will be installed:
#8 4.040   libdrm-amdgpu1 libdrm-common libdrm-intel1 libdrm-nouveau2 libdrm-radeon1
#8 4.040   libdrm2 libgl1 libgl1-mesa-dri libglapi-mesa libglvnd0 libglx-mesa0 libglx0
#8 4.040   libllvm7 libpciaccess0 libsensors-config libsensors5 libx11-xcb1
#8 4.040   libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-sync1
#8 4.040   libxdamage1 libxfixes3 libxshmfence1 libxxf86vm1
#8 4.084 0 upgraded, 26 newly installed, 0 to remove and 168 not upgraded.
#8 4.084 Need to get 21.3 MB of archives.
#8 4.084 After this operation, 214 MB of additional disk space will be used.
#8 4.084 Get:1 http://deb.debian.org/debian buster/main amd64 libdrm-common all 2.4.97-1 [13.8 kB]
#8 4.086 Get:2 http://security.debian.org/debian-security buster/updates/main amd64 libx11-xcb1 amd64 2:1.6.7-1+deb10u4 [191 kB]
#8 4.097 Get:3 http://deb.debian.org/debian buster/main amd64 libdrm2 amd64 2.4.97-1 [39.7 kB]
#8 4.098 Get:4 http://deb.debian.org/debian buster/main amd64 libdrm-amdgpu1 amd64 2.4.97-1 [27.3 kB]
#8 4.110 Get:5 http://deb.debian.org/debian buster/main amd64 libpciaccess0 amd64 0.14-1 [53.5 kB]
#8 4.126 Get:6 http://deb.debian.org/debian buster/main amd64 libdrm-intel1 amd64 2.4.97-1 [69.8 kB]
#8 4.126 Get:7 http://deb.debian.org/debian buster/main amd64 libdrm-nouveau2 amd64 2.4.97-1 [26.3 kB]
#8 4.127 Get:8 http://deb.debian.org/debian buster/main amd64 libdrm-radeon1 amd64 2.4.97-1 [31.1 kB]
#8 4.128 Get:9 http://deb.debian.org/debian buster/main amd64 libglapi-mesa amd64 18.3.6-2+deb10u1 [66.3 kB]
#8 4.131 Get:10 http://deb.debian.org/debian buster/main amd64 libllvm7 amd64 1:7.0.1-8+deb10u2 [13.1 MB]
#8 4.280 Get:11 http://deb.debian.org/debian buster/main amd64 libsensors-config all 1:3.5.0-3 [31.6 kB]
#8 4.282 Get:12 http://deb.debian.org/debian buster/main amd64 libsensors5 amd64 1:3.5.0-3 [52.6 kB]
#8 4.282 Get:13 http://deb.debian.org/debian buster/main amd64 libgl1-mesa-dri amd64 18.3.6-2+deb10u1 [6685 kB]
#8 4.348 Get:14 http://deb.debian.org/debian buster/main amd64 libglvnd0 amd64 1.1.0-1 [48.6 kB]
#8 4.348 Get:15 http://deb.debian.org/debian buster/main amd64 libxcb-dri2-0 amd64 1.13.1-2 [101 kB]
#8 4.349 Get:16 http://deb.debian.org/debian buster/main amd64 libxcb-dri3-0 amd64 1.13.1-2 [100 kB]
#8 4.350 Get:17 http://deb.debian.org/debian buster/main amd64 libxcb-glx0 amd64 1.13.1-2 [116 kB]
#8 4.350 Get:18 http://deb.debian.org/debian buster/main amd64 libxcb-present0 amd64 1.13.1-2 [99.1 kB]
#8 4.351 Get:19 http://deb.debian.org/debian buster/main amd64 libxcb-sync1 amd64 1.13.1-2 [103 kB]
#8 4.354 Get:20 http://deb.debian.org/debian buster/main amd64 libxfixes3 amd64 1:5.0.3-1 [21.9 kB]
#8 4.355 Get:21 http://deb.debian.org/debian buster/main amd64 libxdamage1 amd64 1:1.1.4-3+b3 [14.9 kB]
#8 4.355 Get:22 http://deb.debian.org/debian buster/main amd64 libxshmfence1 amd64 1.3-1 [8820 B]
#8 4.358 Get:23 http://deb.debian.org/debian buster/main amd64 libxxf86vm1 amd64 1:1.1.4-1+b2 [20.8 kB]
#8 4.358 Get:24 http://deb.debian.org/debian buster/main amd64 libglx-mesa0 amd64 18.3.6-2+deb10u1 [180 kB]
#8 4.367 Get:25 http://deb.debian.org/debian buster/main amd64 libglx0 amd64 1.1.0-1 [30.0 kB]
#8 4.368 Get:26 http://deb.debian.org/debian buster/main amd64 libgl1 amd64 1.1.0-1 [91.1 kB]
#8 4.704 debconf: delaying package configuration, since apt-utils is not installed
#8 4.742 Fetched 21.3 MB in 0s (68.7 MB/s)
#8 4.793 Selecting previously unselected package libdrm-common.
#8 4.793 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 24613 files and directories currently installed.)
#8 5.324 Preparing to unpack .../00-libdrm-common_2.4.97-1_all.deb ...
#8 5.336 Unpacking libdrm-common (2.4.97-1) ...
#8 5.400 Selecting previously unselected package libdrm2:amd64.
#8 5.402 Preparing to unpack .../01-libdrm2_2.4.97-1_amd64.deb ...
#8 5.413 Unpacking libdrm2:amd64 (2.4.97-1) ...
#8 5.479 Selecting previously unselected package libdrm-amdgpu1:amd64.
#8 5.481 Preparing to unpack .../02-libdrm-amdgpu1_2.4.97-1_amd64.deb ...
#8 5.487 Unpacking libdrm-amdgpu1:amd64 (2.4.97-1) ...
#8 5.551 Selecting previously unselected package libpciaccess0:amd64.
#8 5.554 Preparing to unpack .../03-libpciaccess0_0.14-1_amd64.deb ...
#8 5.562 Unpacking libpciaccess0:amd64 (0.14-1) ...
#8 5.630 Selecting previously unselected package libdrm-intel1:amd64.
#8 5.632 Preparing to unpack .../04-libdrm-intel1_2.4.97-1_amd64.deb ...
#8 5.641 Unpacking libdrm-intel1:amd64 (2.4.97-1) ...
#8 5.702 Selecting previously unselected package libdrm-nouveau2:amd64.
#8 5.703 Preparing to unpack .../05-libdrm-nouveau2_2.4.97-1_amd64.deb ...
#8 5.712 Unpacking libdrm-nouveau2:amd64 (2.4.97-1) ...
#8 5.784 Selecting previously unselected package libdrm-radeon1:amd64.
#8 5.786 Preparing to unpack .../06-libdrm-radeon1_2.4.97-1_amd64.deb ...
#8 5.793 Unpacking libdrm-radeon1:amd64 (2.4.97-1) ...
#8 5.854 Selecting previously unselected package libglapi-mesa:amd64.
#8 5.857 Preparing to unpack .../07-libglapi-mesa_18.3.6-2+deb10u1_amd64.deb ...
#8 5.865 Unpacking libglapi-mesa:amd64 (18.3.6-2+deb10u1) ...
#8 5.925 Selecting previously unselected package libllvm7:amd64.
#8 5.927 Preparing to unpack .../08-libllvm7_1%3a7.0.1-8+deb10u2_amd64.deb ...
#8 5.935 Unpacking libllvm7:amd64 (1:7.0.1-8+deb10u2) ...
#8 7.172 Selecting previously unselected package libsensors-config.
#8 7.174 Preparing to unpack .../09-libsensors-config_1%3a3.5.0-3_all.deb ...
#8 7.184 Unpacking libsensors-config (1:3.5.0-3) ...
#8 7.251 Selecting previously unselected package libsensors5:amd64.
#8 7.253 Preparing to unpack .../10-libsensors5_1%3a3.5.0-3_amd64.deb ...
#8 7.337 Unpacking libsensors5:amd64 (1:3.5.0-3) ...
#8 7.399 Selecting previously unselected package libgl1-mesa-dri:amd64.
#8 7.401 Preparing to unpack .../11-libgl1-mesa-dri_18.3.6-2+deb10u1_amd64.deb ...
#8 7.415 Unpacking libgl1-mesa-dri:amd64 (18.3.6-2+deb10u1) ...
#8 8.062 Selecting previously unselected package libglvnd0:amd64.
#8 8.064 Preparing to unpack .../12-libglvnd0_1.1.0-1_amd64.deb ...
#8 8.072 Unpacking libglvnd0:amd64 (1.1.0-1) ...
#8 8.148 Selecting previously unselected package libx11-xcb1:amd64.
#8 8.151 Preparing to unpack .../13-libx11-xcb1_2%3a1.6.7-1+deb10u4_amd64.deb ...
#8 8.158 Unpacking libx11-xcb1:amd64 (2:1.6.7-1+deb10u4) ...
#8 8.228 Selecting previously unselected package libxcb-dri2-0:amd64.
#8 8.230 Preparing to unpack .../14-libxcb-dri2-0_1.13.1-2_amd64.deb ...
#8 8.238 Unpacking libxcb-dri2-0:amd64 (1.13.1-2) ...
#8 8.305 Selecting previously unselected package libxcb-dri3-0:amd64.
#8 8.305 Preparing to unpack .../15-libxcb-dri3-0_1.13.1-2_amd64.deb ...
#8 8.314 Unpacking libxcb-dri3-0:amd64 (1.13.1-2) ...
#8 8.378 Selecting previously unselected package libxcb-glx0:amd64.
#8 8.379 Preparing to unpack .../16-libxcb-glx0_1.13.1-2_amd64.deb ...
#8 8.388 Unpacking libxcb-glx0:amd64 (1.13.1-2) ...
#8 8.452 Selecting previously unselected package libxcb-present0:amd64.
#8 8.455 Preparing to unpack .../17-libxcb-present0_1.13.1-2_amd64.deb ...
#8 8.463 Unpacking libxcb-present0:amd64 (1.13.1-2) ...
#8 8.537 Selecting previously unselected package libxcb-sync1:amd64.
#8 8.538 Preparing to unpack .../18-libxcb-sync1_1.13.1-2_amd64.deb ...
#8 8.547 Unpacking libxcb-sync1:amd64 (1.13.1-2) ...
#8 8.616 Selecting previously unselected package libxfixes3:amd64.
#8 8.619 Preparing to unpack .../19-libxfixes3_1%3a5.0.3-1_amd64.deb ...
#8 8.624 Unpacking libxfixes3:amd64 (1:5.0.3-1) ...
#8 8.681 Selecting previously unselected package libxdamage1:amd64.
#8 8.683 Preparing to unpack .../20-libxdamage1_1%3a1.1.4-3+b3_amd64.deb ...
#8 8.690 Unpacking libxdamage1:amd64 (1:1.1.4-3+b3) ...
#8 8.752 Selecting previously unselected package libxshmfence1:amd64.
#8 8.754 Preparing to unpack .../21-libxshmfence1_1.3-1_amd64.deb ...
#8 8.764 Unpacking libxshmfence1:amd64 (1.3-1) ...
#8 8.822 Selecting previously unselected package libxxf86vm1:amd64.
#8 8.823 Preparing to unpack .../22-libxxf86vm1_1%3a1.1.4-1+b2_amd64.deb ...
#8 8.834 Unpacking libxxf86vm1:amd64 (1:1.1.4-1+b2) ...
#8 8.897 Selecting previously unselected package libglx-mesa0:amd64.
#8 8.899 Preparing to unpack .../23-libglx-mesa0_18.3.6-2+deb10u1_amd64.deb ...
#8 8.908 Unpacking libglx-mesa0:amd64 (18.3.6-2+deb10u1) ...
#8 8.980 Selecting previously unselected package libglx0:amd64.
#8 8.982 Preparing to unpack .../24-libglx0_1.1.0-1_amd64.deb ...
#8 8.987 Unpacking libglx0:amd64 (1.1.0-1) ...
#8 9.059 Selecting previously unselected package libgl1:amd64.
#8 9.061 Preparing to unpack .../25-libgl1_1.1.0-1_amd64.deb ...
#8 9.071 Unpacking libgl1:amd64 (1.1.0-1) ...
#8 9.141 Setting up libxcb-dri3-0:amd64 (1.13.1-2) ...
#8 9.164 Setting up libx11-xcb1:amd64 (2:1.6.7-1+deb10u4) ...
#8 9.186 Setting up libpciaccess0:amd64 (0.14-1) ...
#8 9.208 Setting up libglvnd0:amd64 (1.1.0-1) ...
#8 9.232 Setting up libxcb-glx0:amd64 (1.13.1-2) ...
#8 9.256 Setting up libsensors-config (1:3.5.0-3) ...
#8 9.292 Setting up libxxf86vm1:amd64 (1:1.1.4-1+b2) ...
#8 9.314 Setting up libxcb-present0:amd64 (1.13.1-2) ...
#8 9.334 Setting up libxfixes3:amd64 (1:5.0.3-1) ...
#8 9.357 Setting up libxcb-sync1:amd64 (1.13.1-2) ...
#8 9.380 Setting up libsensors5:amd64 (1:3.5.0-3) ...
#8 9.404 Setting up libglapi-mesa:amd64 (18.3.6-2+deb10u1) ...
#8 9.425 Setting up libxcb-dri2-0:amd64 (1.13.1-2) ...
#8 9.447 Setting up libxshmfence1:amd64 (1.3-1) ...
#8 9.476 Setting up libllvm7:amd64 (1:7.0.1-8+deb10u2) ...
#8 9.496 Setting up libdrm-common (2.4.97-1) ...
#8 9.516 Setting up libxdamage1:amd64 (1:1.1.4-3+b3) ...
#8 9.537 Setting up libdrm2:amd64 (2.4.97-1) ...
#8 9.558 Setting up libdrm-amdgpu1:amd64 (2.4.97-1) ...
#8 9.579 Setting up libdrm-nouveau2:amd64 (2.4.97-1) ...
#8 9.600 Setting up libdrm-radeon1:amd64 (2.4.97-1) ...
#8 9.624 Setting up libdrm-intel1:amd64 (2.4.97-1) ...
#8 9.644 Setting up libgl1-mesa-dri:amd64 (18.3.6-2+deb10u1) ...
#8 9.670 Setting up libglx-mesa0:amd64 (18.3.6-2+deb10u1) ...
#8 9.693 Setting up libglx0:amd64 (1.1.0-1) ...
#8 9.714 Setting up libgl1:amd64 (1.1.0-1) ...
#8 9.737 Processing triggers for libc-bin (2.28-10) ...
#8 DONE 10.2s

#9 [web 5/8] RUN python3.10 -u -m pip install -U pymilvus
#9 2.162 Collecting pymilvus
#9 2.206   Downloading pymilvus-2.4.4-py3-none-any.whl (196 kB)
#9 2.746 Collecting pandas>=1.2.4
#9 2.761   Downloading pandas-2.2.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.0 MB)
#9 3.377 Collecting setuptools>=67
#9 3.395   Downloading setuptools-70.3.0-py3-none-any.whl (931 kB)
#9 3.501 Collecting environs<=9.5.0
#9 3.516   Downloading environs-9.5.0-py2.py3-none-any.whl (12 kB)
#9 3.819 Collecting ujson>=2.0.0
#9 3.834   Downloading ujson-5.10.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (53 kB)
#9 4.442 Collecting protobuf>=3.20.0
#9 4.458   Downloading protobuf-5.27.2-cp38-abi3-manylinux2014_x86_64.whl (309 kB)
#9 4.528 Collecting milvus-lite<2.5.0,>=2.4.0
#9 4.542   Downloading milvus_lite-2.4.8-py3-none-manylinux2014_x86_64.whl (49.4 MB)
#9 7.066 Collecting grpcio<=1.63.0,>=1.49.1
#9 7.081   Downloading grpcio-1.63.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (5.6 MB)
#9 7.292 Collecting python-dotenv
#9 7.306   Downloading python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#9 7.435 Collecting marshmallow>=3.0.0
#9 7.448   Downloading marshmallow-3.21.3-py3-none-any.whl (49 kB)
#9 7.524 Collecting packaging>=17.0
#9 7.536   Downloading packaging-24.1-py3-none-any.whl (53 kB)
#9 7.673 Collecting tqdm
#9 7.691   Downloading tqdm-4.66.4-py3-none-any.whl (78 kB)
#9 7.840 Collecting python-dateutil>=2.8.2
#9 7.857   Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
#9 8.628 Collecting numpy>=1.22.4
#9 8.644   Downloading numpy-2.0.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (19.3 MB)
#9 9.068 Collecting pytz>=2020.1
#9 9.086   Downloading pytz-2024.1-py2.py3-none-any.whl (505 kB)
#9 9.168 Collecting tzdata>=2022.7
#9 9.186   Downloading tzdata-2024.1-py2.py3-none-any.whl (345 kB)
#9 9.267 Collecting six>=1.5
#9 9.286   Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
#9 9.582 Installing collected packages: six, packaging, tzdata, tqdm, pytz, python-dotenv, python-dateutil, numpy, marshmallow, ujson, setuptools, protobuf, pandas, milvus-lite, grpcio, environs, pymilvus
#9 13.33   Attempting uninstall: setuptools
#9 13.33     Found existing installation: setuptools 57.5.0
#9 13.41     Uninstalling setuptools-57.5.0:
#9 14.16       Successfully uninstalled setuptools-57.5.0
#9 22.96 Successfully installed environs-9.5.0 grpcio-1.63.0 marshmallow-3.21.3 milvus-lite-2.4.8 numpy-2.0.0 packaging-24.1 pandas-2.2.2 protobuf-5.27.2 pymilvus-2.4.4 python-dateutil-2.9.0.post0 python-dotenv-1.0.1 pytz-2024.1 setuptools-70.3.0 six-1.16.0 tqdm-4.66.4 tzdata-2024.1 ujson-5.10.0
#9 22.96 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 23.10 WARNING: You are using pip version 21.2.4; however, version 24.1.2 is available.
#9 23.10 You should consider upgrading via the '/usr/local/bin/python3.10 -m pip install --upgrade pip' command.
#9 DONE 24.4s

#10 [web 6/8] RUN python3.10 -u -m pip install -e /CT-CLIP/CT_CLIP
#10 1.690 Obtaining file:///CT-CLIP/CT_CLIP
#10 2.196 Collecting ImageNetV2_pytorch@ git+https://github.com/modestyachts/ImageNetV2_pytorch.git
#10 2.196   Cloning https://github.com/modestyachts/ImageNetV2_pytorch.git to /tmp/pip-install-o21ztb0w/imagenetv2-pytorch_41af519b2e004e40851d684a576e01b2
#10 2.196   Running command git clone -q https://github.com/modestyachts/ImageNetV2_pytorch.git /tmp/pip-install-o21ztb0w/imagenetv2-pytorch_41af519b2e004e40851d684a576e01b2
#10 3.116   Resolved https://github.com/modestyachts/ImageNetV2_pytorch.git to commit 14d4456c39fe7f02a665544dd9fc37c1a5f8b635
#10 3.758 Collecting beartype
#10 3.807   Downloading beartype-0.18.5-py3-none-any.whl (917 kB)
#10 3.944 Collecting einops>=0.6
#10 3.960   Downloading einops-0.8.0-py3-none-any.whl (43 kB)
#10 4.032 Collecting ftfy
#10 4.048   Downloading ftfy-6.2.0-py3-none-any.whl (54 kB)
#10 5.483 Collecting regex
#10 5.500   Downloading regex-2024.5.15-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (775 kB)
#10 5.723 Collecting torch==2.0.1
#10 5.738   Downloading torch-2.0.1-cp310-cp310-manylinux1_x86_64.whl (619.9 MB)
#10 25.22 Collecting torchvision
#10 25.24   Downloading torchvision-0.18.1-cp310-cp310-manylinux1_x86_64.whl (7.0 MB)
#10 25.67 Collecting XlsxWriter
#10 25.68   Downloading XlsxWriter-3.2.0-py3-none-any.whl (159 kB)
#10 25.82 Collecting h5py
#10 25.84   Downloading h5py-3.11.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (5.3 MB)
#10 26.61 Collecting matplotlib
#10 26.62   Downloading matplotlib-3.9.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (8.3 MB)
#10 27.20 Collecting seaborn
#10 27.21   Downloading seaborn-0.13.2-py3-none-any.whl (294 kB)
#10 27.28 Collecting wilds
#10 27.30   Downloading wilds-2.0.0-py3-none-any.whl (126 kB)
#10 27.35 Collecting click
#10 27.36   Downloading click-8.1.7-py3-none-any.whl (97 kB)
#10 27.39 Collecting appdirs
#10 27.41   Downloading appdirs-1.4.4-py2.py3-none-any.whl (9.6 kB)
#10 27.45 Collecting attr
#10 27.46   Downloading attr-0.3.2-py2.py3-none-any.whl (3.3 kB)
#10 27.51 Collecting nltk
#10 27.52   Downloading nltk-3.8.1-py3-none-any.whl (1.5 MB)
#10 27.69 Collecting nvidia-cuda-cupti-cu11==11.7.101
#10 27.70   Downloading nvidia_cuda_cupti_cu11-11.7.101-py3-none-manylinux1_x86_64.whl (11.8 MB)
#10 28.45 Collecting jinja2
#10 28.47   Downloading jinja2-3.1.4-py3-none-any.whl (133 kB)
#10 28.51 Collecting nvidia-cufft-cu11==10.9.0.58
#10 28.53   Downloading nvidia_cufft_cu11-10.9.0.58-py3-none-manylinux1_x86_64.whl (168.4 MB)
#10 36.15 Collecting nvidia-nvtx-cu11==11.7.91
#10 36.16   Downloading nvidia_nvtx_cu11-11.7.91-py3-none-manylinux1_x86_64.whl (98 kB)
#10 36.21 Collecting nvidia-cudnn-cu11==8.5.0.96
#10 36.23   Downloading nvidia_cudnn_cu11-8.5.0.96-2-py3-none-manylinux1_x86_64.whl (557.1 MB)
#10 64.50 Collecting nvidia-curand-cu11==10.2.10.91
#10 64.51   Downloading nvidia_curand_cu11-10.2.10.91-py3-none-manylinux1_x86_64.whl (54.6 MB)
#10 66.67 Collecting nvidia-nccl-cu11==2.14.3
#10 66.68   Downloading nvidia_nccl_cu11-2.14.3-py3-none-manylinux1_x86_64.whl (177.1 MB)
#10 73.43 Collecting nvidia-cublas-cu11==11.10.3.66
#10 73.45   Downloading nvidia_cublas_cu11-11.10.3.66-py3-none-manylinux1_x86_64.whl (317.1 MB)
#10 84.42 Collecting triton==2.0.0
#10 84.44   Downloading triton-2.0.0-1-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (63.3 MB)
#10 86.28 Collecting sympy
#10 86.30   Downloading sympy-1.13.0-py3-none-any.whl (6.2 MB)
#10 86.50 Collecting nvidia-cusolver-cu11==11.4.0.1
#10 86.51   Downloading nvidia_cusolver_cu11-11.4.0.1-2-py3-none-manylinux1_x86_64.whl (102.6 MB)
#10 90.12 Collecting nvidia-cusparse-cu11==11.7.4.91
#10 90.13   Downloading nvidia_cusparse_cu11-11.7.4.91-py3-none-manylinux1_x86_64.whl (173.2 MB)
#10 98.67 Collecting nvidia-cuda-runtime-cu11==11.7.99
#10 98.69   Downloading nvidia_cuda_runtime_cu11-11.7.99-py3-none-manylinux1_x86_64.whl (849 kB)
#10 98.78 Collecting typing-extensions
#10 98.80   Downloading typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#10 98.88 Collecting networkx
#10 98.90   Downloading networkx-3.3-py3-none-any.whl (1.7 MB)
#10 99.11 Collecting nvidia-cuda-nvrtc-cu11==11.7.99
#10 99.13   Downloading nvidia_cuda_nvrtc_cu11-11.7.99-2-py3-none-manylinux1_x86_64.whl (21.0 MB)
#10 100.3 Collecting filelock
#10 100.3   Downloading filelock-3.15.4-py3-none-any.whl (16 kB)
#10 100.3 Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from nvidia-cublas-cu11==11.10.3.66->torch==2.0.1->ct-clip==0.1) (70.3.0)
#10 100.3 Requirement already satisfied: wheel in /usr/local/lib/python3.10/site-packages (from nvidia-cublas-cu11==11.10.3.66->torch==2.0.1->ct-clip==0.1) (0.37.0)
#10 100.4 Collecting lit
#10 100.5   Downloading lit-18.1.8-py3-none-any.whl (96 kB)
#10 100.9 Collecting cmake
#10 101.0   Downloading cmake-3.30.0-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (26.9 MB)
#10 102.0 Collecting wcwidth<0.3.0,>=0.2.12
#10 102.0   Downloading wcwidth-0.2.13-py2.py3-none-any.whl (34 kB)
#10 102.0 Requirement already satisfied: numpy>=1.17.3 in /usr/local/lib/python3.10/site-packages (from h5py->ct-clip==0.1) (2.0.0)
#10 102.2 Collecting MarkupSafe>=2.0
#10 102.2   Downloading MarkupSafe-2.1.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
#10 102.6 Collecting fonttools>=4.22.0
#10 102.7   Downloading fonttools-4.53.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.6 MB)
#10 102.9 Collecting cycler>=0.10
#10 102.9   Downloading cycler-0.12.1-py3-none-any.whl (8.3 kB)
#10 103.1 Collecting pyparsing>=2.3.1
#10 103.1   Downloading pyparsing-3.1.2-py3-none-any.whl (103 kB)
#10 103.8 Collecting pillow>=8
#10 103.8   Downloading pillow-10.4.0-cp310-cp310-manylinux_2_28_x86_64.whl (4.5 MB)
#10 104.2 Collecting contourpy>=1.0.1
#10 104.2   Downloading contourpy-1.2.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (305 kB)
#10 104.4 Collecting kiwisolver>=1.3.1
#10 104.5   Downloading kiwisolver-1.4.5-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.6 MB)
#10 104.5 Requirement already satisfied: python-dateutil>=2.7 in /usr/local/lib/python3.10/site-packages (from matplotlib->ct-clip==0.1) (2.9.0.post0)
#10 104.5 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from matplotlib->ct-clip==0.1) (24.1)
#10 104.7 Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/site-packages (from python-dateutil>=2.7->matplotlib->ct-clip==0.1) (1.16.0)
#10 104.7 Requirement already satisfied: tqdm in /usr/local/lib/python3.10/site-packages (from nltk->ct-clip==0.1) (4.66.4)
#10 104.8 Collecting joblib
#10 104.8   Downloading joblib-1.4.2-py3-none-any.whl (301 kB)
#10 104.9 Requirement already satisfied: pandas>=1.2 in /usr/local/lib/python3.10/site-packages (from seaborn->ct-clip==0.1) (2.2.2)
#10 105.0 Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/site-packages (from pandas>=1.2->seaborn->ct-clip==0.1) (2024.1)
#10 105.0 Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.10/site-packages (from pandas>=1.2->seaborn->ct-clip==0.1) (2024.1)
#10 105.0 Collecting mpmath<1.4,>=1.1.0
#10 105.0   Downloading mpmath-1.3.0-py3-none-any.whl (536 kB)
#10 105.1 Collecting torchvision
#10 105.1   Downloading torchvision-0.18.0-cp310-cp310-manylinux1_x86_64.whl (7.0 MB)
#10 105.4   Downloading torchvision-0.17.2-cp310-cp310-manylinux1_x86_64.whl (6.9 MB)
#10 105.9   Downloading torchvision-0.17.1-cp310-cp310-manylinux1_x86_64.whl (6.9 MB)
#10 106.3   Downloading torchvision-0.17.0-cp310-cp310-manylinux1_x86_64.whl (6.9 MB)
#10 106.8 Collecting requests
#10 106.9   Downloading requests-2.32.3-py3-none-any.whl (64 kB)
#10 106.9 Collecting torchvision
#10 106.9   Downloading torchvision-0.16.2-cp310-cp310-manylinux1_x86_64.whl (6.8 MB)
#10 107.2   Downloading torchvision-0.16.1-cp310-cp310-manylinux1_x86_64.whl (6.8 MB)
#10 107.5   Downloading torchvision-0.16.0-cp310-cp310-manylinux1_x86_64.whl (6.9 MB)
#10 107.9   Downloading torchvision-0.15.2-cp310-cp310-manylinux1_x86_64.whl (6.0 MB)
#10 108.4 Collecting urllib3<3,>=1.21.1
#10 108.4   Downloading urllib3-2.2.2-py3-none-any.whl (121 kB)
#10 108.5 Collecting certifi>=2017.4.17
#10 108.5   Downloading certifi-2024.7.4-py3-none-any.whl (162 kB)
#10 108.6 Collecting idna<4,>=2.5
#10 108.6   Downloading idna-3.7-py3-none-any.whl (66 kB)
#10 108.9 Collecting charset-normalizer<4,>=2
#10 108.9   Downloading charset_normalizer-3.3.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (142 kB)
#10 109.3 Collecting scikit-learn>=0.20.0
#10 109.3   Downloading scikit_learn-1.5.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.4 MB)
#10 110.3 Collecting ogb>=1.2.6
#10 110.3   Downloading ogb-1.3.6-py3-none-any.whl (78 kB)
#10 110.4 Collecting outdated>=0.2.0
#10 110.4   Downloading outdated-0.2.2-py2.py3-none-any.whl (7.5 kB)
#10 110.8 Collecting scipy>=1.5.4
#10 110.8   Downloading scipy-1.14.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (41.1 MB)
#10 113.2 Collecting littleutils
#10 113.2   Downloading littleutils-0.2.4-py3-none-any.whl (8.1 kB)
#10 113.3 Collecting threadpoolctl>=3.1.0
#10 113.3   Downloading threadpoolctl-3.5.0-py3-none-any.whl (18 kB)
#10 113.5 Building wheels for collected packages: ImageNetV2-pytorch
#10 113.5   Building wheel for ImageNetV2-pytorch (setup.py): started
#10 114.0   Building wheel for ImageNetV2-pytorch (setup.py): finished with status 'done'
#10 114.0   Created wheel for ImageNetV2-pytorch: filename=imagenetv2_pytorch-0.1-py3-none-any.whl size=2657 sha256=dd97113d88bbad97ff1232590ad7debc0545a22fa29f321b5d770e0380b4dda8
#10 114.0   Stored in directory: /tmp/pip-ephem-wheel-cache-sthua599/wheels/1f/7e/65/d45104c582d4a7127799588b0f65a16d0e9b8212417d778af6
#10 114.0 Successfully built ImageNetV2-pytorch
#10 114.5 Installing collected packages: urllib3, nvidia-cublas-cu11, mpmath, MarkupSafe, lit, idna, filelock, cmake, charset-normalizer, certifi, typing-extensions, triton, threadpoolctl, sympy, scipy, requests, nvidia-nvtx-cu11, nvidia-nccl-cu11, nvidia-cusparse-cu11, nvidia-cusolver-cu11, nvidia-curand-cu11, nvidia-cufft-cu11, nvidia-cudnn-cu11, nvidia-cuda-runtime-cu11, nvidia-cuda-nvrtc-cu11, nvidia-cuda-cupti-cu11, networkx, littleutils, joblib, jinja2, torch, scikit-learn, pyparsing, pillow, outdated, kiwisolver, fonttools, cycler, contourpy, wcwidth, torchvision, regex, ogb, matplotlib, click, XlsxWriter, wilds, seaborn, nltk, ImageNetV2-pytorch, h5py, ftfy, einops, beartype, attr, appdirs, ct-clip
#10 177.4   Running setup.py develop for ct-clip
#10 178.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#10 178.5 Successfully installed ImageNetV2-pytorch-0.1 MarkupSafe-2.1.5 XlsxWriter-3.2.0 appdirs-1.4.4 attr-0.3.2 beartype-0.18.5 certifi-2024.7.4 charset-normalizer-3.3.2 click-8.1.7 cmake-3.30.0 contourpy-1.2.1 ct-clip-0.1 cycler-0.12.1 einops-0.8.0 filelock-3.15.4 fonttools-4.53.1 ftfy-6.2.0 h5py-3.11.0 idna-3.7 jinja2-3.1.4 joblib-1.4.2 kiwisolver-1.4.5 lit-18.1.8 littleutils-0.2.4 matplotlib-3.9.1 mpmath-1.3.0 networkx-3.3 nltk-3.8.1 nvidia-cublas-cu11-11.10.3.66 nvidia-cuda-cupti-cu11-11.7.101 nvidia-cuda-nvrtc-cu11-11.7.99 nvidia-cuda-runtime-cu11-11.7.99 nvidia-cudnn-cu11-8.5.0.96 nvidia-cufft-cu11-10.9.0.58 nvidia-curand-cu11-10.2.10.91 nvidia-cusolver-cu11-11.4.0.1 nvidia-cusparse-cu11-11.7.4.91 nvidia-nccl-cu11-2.14.3 nvidia-nvtx-cu11-11.7.91 ogb-1.3.6 outdated-0.2.2 pillow-10.4.0 pyparsing-3.1.2 regex-2024.5.15 requests-2.32.3 scikit-learn-1.5.1 scipy-1.14.0 seaborn-0.13.2 sympy-1.13.0 threadpoolctl-3.5.0 torch-2.0.1 torchvision-0.15.2 triton-2.0.0 typing-extensions-4.12.2 urllib3-2.2.2 wcwidth-0.2.13 wilds-2.0.0
#10 178.5 WARNING: You are using pip version 21.2.4; however, version 24.1.2 is available.
#10 178.5 You should consider upgrading via the '/usr/local/bin/python3.10 -m pip install --upgrade pip' command.
#10 DONE 190.5s

#11 [web 7/8] RUN python3.10 -u -m pip install -e /CT-CLIP/transformer_maskgit
#11 1.685 Obtaining file:///CT-CLIP/transformer_maskgit
#11 2.300 Collecting accelerate
#11 2.341   Downloading accelerate-0.32.1-py3-none-any.whl (314 kB)
#11 2.386 Requirement already satisfied: beartype in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (0.18.5)
#11 2.386 Requirement already satisfied: einops>=0.6 in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (0.8.0)
#11 2.442 Collecting ema-pytorch>=0.2.2
#11 2.457   Downloading ema_pytorch-0.5.1-py3-none-any.whl (8.7 kB)
#11 2.767 Collecting opencv-python
#11 2.780   Downloading opencv_python-4.10.0.84-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (62.5 MB)
#11 3.773 Requirement already satisfied: pillow in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (10.4.0)
#11 3.777 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (2.0.0)
#11 3.955 Collecting sentencepiece
#11 3.969   Downloading sentencepiece-0.2.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.3 MB)
#11 3.996 Requirement already satisfied: torch==2.0.1 in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (2.0.1)
#11 4.040 Collecting torchtyping
#11 4.052   Downloading torchtyping-0.1.4-py3-none-any.whl (17 kB)
#11 4.058 Requirement already satisfied: torchvision in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (0.15.2)
#11 4.160 Collecting transformers==4.30.1
#11 4.173   Downloading transformers-4.30.1-py3-none-any.whl (7.2 MB)
#11 4.296 Requirement already satisfied: tqdm in /usr/local/lib/python3.10/site-packages (from transformer_maskgit==0.0.0) (4.66.4)
#11 4.434 Collecting vector-quantize-pytorch==1.1.2
#11 4.448   Downloading vector_quantize_pytorch-1.1.2-py3-none-any.whl (10.0 kB)
#11 4.511 Collecting nibabel
#11 4.523   Downloading nibabel-5.2.1-py3-none-any.whl (3.3 MB)
#11 4.623 Collecting openpyxl
#11 4.637   Downloading openpyxl-3.1.5-py2.py3-none-any.whl (250 kB)
#11 4.677 Requirement already satisfied: typing-extensions in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (4.12.2)
#11 4.679 Requirement already satisfied: triton==2.0.0 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (2.0.0)
#11 4.679 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (3.15.4)
#11 4.682 Requirement already satisfied: nvidia-cuda-nvrtc-cu11==11.7.99 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.7.99)
#11 4.682 Requirement already satisfied: sympy in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (1.13.0)
#11 4.684 Requirement already satisfied: nvidia-cusolver-cu11==11.4.0.1 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.4.0.1)
#11 4.684 Requirement already satisfied: nvidia-cublas-cu11==11.10.3.66 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.10.3.66)
#11 4.685 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (3.1.4)
#11 4.688 Requirement already satisfied: nvidia-cudnn-cu11==8.5.0.96 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (8.5.0.96)
#11 4.688 Requirement already satisfied: nvidia-cufft-cu11==10.9.0.58 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (10.9.0.58)
#11 4.690 Requirement already satisfied: nvidia-curand-cu11==10.2.10.91 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (10.2.10.91)
#11 4.719 Requirement already satisfied: nvidia-cuda-runtime-cu11==11.7.99 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.7.99)
#11 4.720 Requirement already satisfied: nvidia-nccl-cu11==2.14.3 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (2.14.3)
#11 4.721 Requirement already satisfied: nvidia-nvtx-cu11==11.7.91 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.7.91)
#11 4.721 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (3.3)
#11 4.723 Requirement already satisfied: nvidia-cuda-cupti-cu11==11.7.101 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.7.101)
#11 4.723 Requirement already satisfied: nvidia-cusparse-cu11==11.7.4.91 in /usr/local/lib/python3.10/site-packages (from torch==2.0.1->transformer_maskgit==0.0.0) (11.7.4.91)
#11 4.728 Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from nvidia-cublas-cu11==11.10.3.66->torch==2.0.1->transformer_maskgit==0.0.0) (70.3.0)
#11 4.728 Requirement already satisfied: wheel in /usr/local/lib/python3.10/site-packages (from nvidia-cublas-cu11==11.10.3.66->torch==2.0.1->transformer_maskgit==0.0.0) (0.37.0)
#11 5.847 Collecting tokenizers!=0.11.3,<0.14,>=0.11.1
#11 5.859   Downloading tokenizers-0.13.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (7.8 MB)
#11 6.071 Collecting huggingface-hub<1.0,>=0.14.1
#11 6.085   Downloading huggingface_hub-0.23.4-py3-none-any.whl (402 kB)
#11 6.098 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from transformers==4.30.1->transformer_maskgit==0.0.0) (2.32.3)
#11 6.101 Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/site-packages (from transformers==4.30.1->transformer_maskgit==0.0.0) (2024.5.15)
#11 6.101 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from transformers==4.30.1->transformer_maskgit==0.0.0) (24.1)
#11 6.224 Collecting pyyaml>=5.1
#11 6.237   Downloading PyYAML-6.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (705 kB)
#11 6.665 Collecting safetensors>=0.3.1
#11 6.678   Downloading safetensors-0.4.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)
#11 6.710 Requirement already satisfied: lit in /usr/local/lib/python3.10/site-packages (from triton==2.0.0->torch==2.0.1->transformer_maskgit==0.0.0) (18.1.8)
#11 6.711 Requirement already satisfied: cmake in /usr/local/lib/python3.10/site-packages (from triton==2.0.0->torch==2.0.1->transformer_maskgit==0.0.0) (3.30.0)
#11 6.897 Collecting fsspec>=2023.5.0
#11 6.912   Downloading fsspec-2024.6.1-py3-none-any.whl (177 kB)
#11 7.384 Collecting psutil
#11 7.397   Downloading psutil-6.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (290 kB)
#11 8.142 Collecting numpy
#11 8.158   Downloading numpy-1.26.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (18.2 MB)
#11 8.501 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch==2.0.1->transformer_maskgit==0.0.0) (2.1.5)
#11 8.635 Collecting et-xmlfile
#11 8.647   Downloading et_xmlfile-1.1.0-py3-none-any.whl (4.7 kB)
#11 8.742 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.30.1->transformer_maskgit==0.0.0) (2024.7.4)
#11 8.743 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.30.1->transformer_maskgit==0.0.0) (3.7)
#11 8.744 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.30.1->transformer_maskgit==0.0.0) (2.2.2)
#11 8.745 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.30.1->transformer_maskgit==0.0.0) (3.3.2)
#11 8.771 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy->torch==2.0.1->transformer_maskgit==0.0.0) (1.3.0)
#11 8.841 Collecting typeguard>=2.11.1
#11 8.853   Downloading typeguard-4.3.0-py3-none-any.whl (35 kB)
#11 9.929 Installing collected packages: pyyaml, fsspec, typeguard, tokenizers, safetensors, psutil, numpy, huggingface-hub, et-xmlfile, vector-quantize-pytorch, transformers, torchtyping, sentencepiece, openpyxl, opencv-python, nibabel, ema-pytorch, accelerate, transformer-maskgit
#11 10.52   Attempting uninstall: numpy
#11 10.52     Found existing installation: numpy 2.0.0
#11 10.67     Uninstalling numpy-2.0.0:
#11 12.97       Successfully uninstalled numpy-2.0.0
#11 21.44   Running setup.py develop for transformer-maskgit
#11 23.00 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#11 23.00 Successfully installed accelerate-0.32.1 ema-pytorch-0.5.1 et-xmlfile-1.1.0 fsspec-2024.6.1 huggingface-hub-0.23.4 nibabel-5.2.1 numpy-1.26.4 opencv-python-4.10.0.84 openpyxl-3.1.5 psutil-6.0.0 pyyaml-6.0.1 safetensors-0.4.3 sentencepiece-0.2.0 tokenizers-0.13.3 torchtyping-0.1.4 transformer-maskgit-0.0.0 transformers-4.30.1 typeguard-4.3.0 vector-quantize-pytorch-1.1.2
#11 23.01 WARNING: You are using pip version 21.2.4; however, version 24.1.2 is available.
#11 23.01 You should consider upgrading via the '/usr/local/bin/python3.10 -m pip install --upgrade pip' command.
#11 DONE 24.3s

#12 [web 8/8] RUN python3.10 -u -m pip install -U transformers==4.23.1
#12 1.836 Collecting transformers==4.23.1
#12 1.880   Downloading transformers-4.23.1-py3-none-any.whl (5.3 MB)
#12 2.356 Requirement already satisfied: huggingface-hub<1.0,>=0.10.0 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (0.23.4)
#12 2.357 Requirement already satisfied: numpy>=1.17 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (1.26.4)
#12 2.358 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (6.0.1)
#12 2.358 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (24.1)
#12 2.358 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (3.15.4)
#12 2.361 Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (2024.5.15)
#12 2.362 Requirement already satisfied: tokenizers!=0.11.3,<0.14,>=0.11.1 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (0.13.3)
#12 2.362 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (2.32.3)
#12 2.363 Requirement already satisfied: tqdm>=4.27 in /usr/local/lib/python3.10/site-packages (from transformers==4.23.1) (4.66.4)
#12 2.435 Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.10/site-packages (from huggingface-hub<1.0,>=0.10.0->transformers==4.23.1) (2024.6.1)
#12 2.436 Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/site-packages (from huggingface-hub<1.0,>=0.10.0->transformers==4.23.1) (4.12.2)
#12 2.556 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.23.1) (3.7)
#12 2.560 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.23.1) (2.2.2)
#12 2.561 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.23.1) (3.3.2)
#12 2.562 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->transformers==4.23.1) (2024.7.4)
#12 3.824 Installing collected packages: transformers
#12 3.824   Attempting uninstall: transformers
#12 3.824     Found existing installation: transformers 4.30.1
#12 4.184     Uninstalling transformers-4.30.1:
#12 4.868       Successfully uninstalled transformers-4.30.1
#12 7.827 Successfully installed transformers-4.23.1
#12 7.827 ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
#12 7.827 transformer-maskgit 0.0.0 requires transformers==4.30.1, but you have transformers 4.23.1 which is incompatible.
#12 7.827 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#12 7.835 WARNING: You are using pip version 21.2.4; however, version 24.1.2 is available.
#12 7.835 You should consider upgrading via the '/usr/local/bin/python3.10 -m pip install --upgrade pip' command.
#12 DONE 8.1s

#13 [web] exporting to image
#13 exporting layers
#13 exporting layers 104.9s done
#13 writing image sha256:a293abbba7590cad3be3be1cae3a9f82013f9c12e09732d3de6f1d8b03ee4807 done
#13 naming to docker.io/library/embeddingsdockerimage-web 0.0s done
#13 DONE 104.9s
 Container embeddingsdockerimage-web-1  Recreate
 Container embeddingsdockerimage-web-1  Recreated
Attaching to web-1
web-1  | ERROR: ld.so: object '/usr/local/lib/python3.10/site-packages/sklearn/utils/../../scikit_learn.libs/libgomp-d22c30c5.so.1.0.0' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored.
web-1  | ERROR: ld.so: object '/usr/local/lib/python3.10/site-packages/sklearn/utils/../../scikit_learn.libs/libgomp-d22c30c5.so.1.0.0' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored.
web-1  | ERROR: ld.so: object '/usr/local/lib/python3.10/site-packages/sklearn/utils/../../scikit_learn.libs/libgomp-d22c30c5.so.1.0.0' from LD_PRELOAD cannot be preloaded (cannot open shared object file): ignored.
web-1  | /usr/local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
web-1  |   warnings.warn(
web-1  | reports.csv True
web-1  | labels.csv True
web-1  |   0%|          | 0/1 [00:00<?, ?it/s]100%|██████████| 1/1 [00:00<00:00, 58.06it/s]
web-1  |   0%|          | 0/2 [00:00<?, ?it/s] 50%|█████     | 1/2 [00:17<00:17, 17.30s/it]100%|██████████| 2/2 [00:24<00:00, 11.44s/it]100%|██████████| 2/2 [00:24<00:00, 12.32s/it]
web-1  | torch.Size([1, 512])
web-1  | torch.Size([1, 512, 768])
web-1  | torch.Size([1, 16, 16, 16, 512])
web-1  | torch.Size([1, 2097152])
web-1  | torch.Size([1, 512])
web-1  | torch.Size([1, 512, 768])
web-1  | torch.Size([1, 16, 16, 16, 512])
web-1  | torch.Size([1, 2097152])
web-1  | Inference complete
web-1  | ['image.npy', 'text.npy']
web-1  | Traceback (most recent call last):
web-1  |   File "/CT-CLIP/scripts/run_zero_shot.py", line 75, in <module>
web-1  |     url = sys.argv[ 5 ]
web-1  | IndexError: list index out of range
[Kweb-1 exited with code 1
